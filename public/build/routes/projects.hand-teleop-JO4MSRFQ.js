import{a as Be}from"/build/_shared/chunk-RXMGKXPX.js";import{A as le,C as de,J as Y,a as K,b as be,e as oe,f as Z,g as ve,h as xe,l as ie,o as ye,p as ce,u as X,x as we,y as ke}from"/build/_shared/chunk-RSBDZNQN.js";import{f as se}from"/build/_shared/chunk-2QYNQQLQ.js";import{a as ee,b as M,c as k}from"/build/_shared/chunk-W4RNY2KU.js";import{c as G,d as Le,e as pe}from"/build/_shared/chunk-MFPRU5OA.js";var je=G(Be(),1);var l=G(Le(),1);var e=G(pe(),1),me=class{apiUrl;ws;onTrackingResult;onConnectionChange;onError;isConnected;reconnectAttempts;maxReconnectAttempts;lastFrameTime;frameQueue;maxFrameQueue;useRestApi;queueResetInterval;constructor(b){this.apiUrl=b.replace("https:","wss:").replace("http:","ws:"),this.ws=null,this.onTrackingResult=null,this.onConnectionChange=null,this.onError=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.lastFrameTime=0,this.frameQueue=0,this.maxFrameQueue=3,this.useRestApi=!1,this.queueResetInterval=null,this.queueResetInterval=setInterval(()=>{this.frameQueue>0&&(console.log(`\u{1F504} Queue cleanup: resetting queue from ${this.frameQueue} to 0`),this.frameQueue=0)},1e4)}connect(){return new Promise((b,g)=>{try{let f=`${this.apiUrl}/api/tracking/live`;console.log("\u{1F50C} Attempting WebSocket connection to:",f),console.log("\u{1F527} API URL breakdown:",{original:this.apiUrl,wsUrl:f,isOnline:this.apiUrl.includes("onrender.com"),protocol:f.startsWith("wss:")?"secure":"insecure"});let c=setTimeout(()=>{this.ws&&this.ws.readyState===WebSocket.CONNECTING&&(console.error("\u274C WebSocket connection timeout after 15 seconds"),this.ws.close(),g(new Error("Connection timeout")))},Qe);this.ws=new WebSocket(f),this.ws.onopen=()=>{console.log("\u2705 WebSocket connected successfully!"),clearTimeout(c),this.isConnected=!0,this.reconnectAttempts=0,this.onConnectionChange&&this.onConnectionChange(!0),this.ws?.send(JSON.stringify({type:"ping"})),b()},this.ws.onmessage=d=>{try{let o=JSON.parse(d.data);if(console.log("\u{1F4E8} WebSocket message received:",o.type),o.type==="pong")console.log("\u{1F3D3} Pong received - server is responsive");else if(o.type==="tracking_result"&&this.onTrackingResult){console.log("\u{1F3AF} Processing tracking result - hand detected:",o.data?.hand_detected);let u=Date.now()-this.lastFrameTime;this.frameQueue=Math.max(0,this.frameQueue-1);let y={...o.data,latency_ms:u,queue_depth:this.frameQueue};this.onTrackingResult(y),Math.random()<.1&&console.log(`\u{1F4CA} Latency: ${u}ms, Queue: ${this.frameQueue}, Processing: ${o.data.processing_time_ms?.toFixed(1)}ms, Hand: ${o.data.hand_detected}`)}else o.type==="error"?(console.error("\u274C Backend error:",o.message),this.onError&&this.onError(`Backend: ${o.message}`)):console.log("\u{1F4CB} Unknown message type:",o.type,"Data keys:",Object.keys(o))}catch(o){console.error("\u274C Error parsing WebSocket message:",o),console.error("Raw message:",d.data),this.onError&&this.onError(`Parse error: ${o}`)}},this.ws.onerror=d=>{console.error("\u274C WebSocket error event:",d),console.error("\u274C WebSocket details:",{url:f,readyState:this.ws?.readyState,protocol:this.ws?.protocol,extensions:this.ws?.extensions}),clearTimeout(c),this.onError&&this.onError(`WebSocket connection failed to ${f}`),g(new Error("WebSocket error"))},this.ws.onclose=d=>{if(console.log(`\u{1F50C} WebSocket closed: ${d.code} - ${d.reason||"Unknown reason"}`),console.log(`\u{1F4CA} Connection was open for: ${Date.now()-this.lastFrameTime}ms`),clearTimeout(c),this.isConnected=!1,this.onConnectionChange&&this.onConnectionChange(!1),d.code!==1e3&&d.code!==1001&&this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;let v=Math.min(2e3*this.reconnectAttempts,1e4);console.log(`\u{1F504} Reconnecting in ${v}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>this.connect().catch(console.error),v)}else if(d.code!==1e3){let v=`Connection failed: ${d.code} ${d.reason}`;console.error("\u274C WebSocket connection permanently failed:",v),this.onError&&this.onError(v),g(new Error(v))}}}catch(f){console.error("\u274C Failed to create WebSocket:",f),this.onError&&this.onError(`Setup failed: ${f}`),g(f)}})}sendFrame(b,g="mediapipe",f="so101"){if(this.useRestApi)return this.sendFrameRest(b,g,f).catch(c=>{console.error("\u274C REST API frame send failed:",c),this.onError&&this.onError(`REST API error: ${c}`)}),!0;if(this.ws?.readyState!==WebSocket.OPEN)return console.warn("\u26A0\uFE0F WebSocket not connected, cannot send frame"),this.useRestApi?!1:(console.log("\u{1F504} Switching to REST API fallback..."),this.useRestApi=!0,this.onError&&this.onError("WebSocket failed - switched to REST API"),this.sendFrame(b,g,f));if(this.frameQueue>=this.maxFrameQueue)return console.warn(`\u26A0\uFE0F Skipping frame - queue full (${this.frameQueue}/${this.maxFrameQueue})`),!1;try{let c=b.toDataURL("image/jpeg",.8),d={type:"image",data:c,tracking_mode:g,timestamp:new Date().toISOString()};return this.ws.send(JSON.stringify(d)),this.lastFrameTime=Date.now(),this.frameQueue++,Math.random()<.02&&console.log("\u{1F4E4} WebSocket frame sent:",{type:d.type,tracking_mode:d.tracking_mode,data_size:Math.round(c.length/1024)+"KB",queue:this.frameQueue,wsState:this.ws.readyState}),!0}catch(c){return console.error("\u274C Error sending frame via WebSocket:",c),this.onError&&this.onError(`Error sending frame: ${c}`),console.log("\u{1F504} WebSocket send failed, trying REST API fallback..."),this.useRestApi=!0,this.sendFrame(b,g,f)}}async sendFrameRest(b,g="mediapipe",f="so101"){try{if(this.frameQueue>=this.maxFrameQueue)return console.warn(`\u26A0\uFE0F Skipping REST frame - queue full (${this.frameQueue}/${this.maxFrameQueue})`),!1;let c=b.toDataURL("image/jpeg",.8),d=this.apiUrl.replace("wss:","https:").replace("ws:","http:"),o={image_data:c,tracking_mode:g,robot_type:f,timestamp:new Date().toISOString()};console.log(`\u{1F4E4} Sending REST request to: ${d}/api/track`);let v=new AbortController,u=setTimeout(()=>{v.abort(),console.warn("\u23F0 REST API request timed out after 10 seconds")},1e4),y=await fetch(`${d}/api/track`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o),signal:v.signal,mode:"cors",credentials:"omit"});if(clearTimeout(u),!y.ok){let D=await y.text();throw new Error(`HTTP ${y.status}: ${y.statusText} - ${D}`)}let H=await y.json();if(console.log("\u{1F4E8} REST API response received"),this.onTrackingResult){let D=Date.now()-this.lastFrameTime,x={...H,latency_ms:D,queue_depth:this.frameQueue};this.onTrackingResult(x)}return this.lastFrameTime=Date.now(),this.frameQueue=Math.max(0,this.frameQueue-1),!0}catch(c){let d="Unknown error",o=!1;if(c instanceof Error)if(c.name==="AbortError")d="Request timeout (10s)";else if(c.message.includes("Failed to fetch")){o=!0;let v=typeof window<"u"?window.location.origin:"unknown",u=`${this.apiUrl.replace("wss:","https:").replace("ws:","http:")}/api/track`;v.includes("localhost")&&u.includes("onrender.com")?d="CORS: Development server not allowed by backend. Use production deployment or configure CORS.":v.includes("localhost")&&u.includes("localhost")?d="Network: Local backend server not running or unreachable.":d="Network: Failed to connect to backend server."}else c.message.includes("NetworkError")?d="Network connection failed":c.message.includes("CORS")?(o=!0,d="CORS policy blocked request - server configuration issue"):c.message.includes("HTTP 4")?d=`Client error: ${c.message}`:c.message.includes("HTTP 5")?d=`Server error: ${c.message}`:d=c.message;return console.error("\u274C REST API error:",d,c),console.error("\u{1F50D} Debug info:",{currentOrigin:typeof window<"u"?window.location.origin:"N/A",targetUrl:`${this.apiUrl.replace("wss:","https:").replace("ws:","http:")}/api/track`,errorName:c instanceof Error?c.name:"unknown",errorMessage:c instanceof Error?c.message:String(c),isCorsError:o}),o?this.onError&&this.onError(`CORS: ${d}`):this.onError&&this.onError(`REST API: ${d}`),this.frameQueue=Math.max(0,this.frameQueue-1),!1}}calculatePinchDistance(b){if(!b?.thumb_tip||!b?.index_tip)return 1;let g=b.thumb_tip.x-b.index_tip.x,f=b.thumb_tip.y-b.index_tip.y;return Math.sqrt(g*g+f*f)}disconnect(){this.queueResetInterval&&(clearInterval(this.queueResetInterval),this.queueResetInterval=null),this.useRestApi?(this.isConnected=!1,this.useRestApi=!1,this.onConnectionChange&&this.onConnectionChange(!1)):this.ws&&(this.ws.close(1e3,"Manual disconnect"),this.ws=null,this.isConnected=!1),this.frameQueue=0}};var B=typeof window<"u"&&window.location.hostname==="localhost",Qe=15e3,Ne=5e3,te=15,Ue=1e3/te,Se=[{id:"ur5e",name:"UR5e",dof:6,description:"Universal Robots collaborative arm for precise manipulation"},{id:"franka",name:"Franka Emika Panda",dof:7,description:"Research robot with torque sensors in every joint"},{id:"kinova",name:"Kinova Gen3",dof:7,description:"Lightweight carbon fiber arm for research applications"},{id:"kuka",name:"KUKA LBR iiwa",dof:7,description:"Sensitive lightweight robot for human-robot collaboration"},{id:"so101",name:"SO-101 Humanoid Hand",dof:5,description:"Dexterous robotic hand"},{id:"simulation",name:"Simulation Mode",dof:6,description:"Virtual robot for testing"}],ze=[{id:"mediapipe",name:"MediaPipe Hands",description:"Real-time hand landmark detection"},{id:"wilor",name:"WiLoR",description:"Whole-body human mesh recovery"}];function Ce(){let[A,b]=(0,l.useState)("ur5e"),[g,f]=(0,l.useState)("mediapipe"),[c,d]=(0,l.useState)(!1),[o,v]=(0,l.useState)(!1),[u,y]=(0,l.useState)(!1),[H,D]=(0,l.useState)(!1),[x,$]=(0,l.useState)("checking"),[I,ne]=(0,l.useState)(!1),[ue,he]=(0,l.useState)([]),R=I?"https://hand-teleop-api.onrender.com":B?"http://localhost:8000":"https://hand-teleop-api.onrender.com",j=I?"wss://hand-teleop-api.onrender.com":B?"ws://localhost:8000":"wss://hand-teleop-api.onrender.com",[N,Q]=(0,l.useState)(null),[W,U]=(0,l.useState)(!1),[T,O]=(0,l.useState)(!1),[h,ae]=(0,l.useState)(!1),[F,E]=(0,l.useState)(null),[z,V]=(0,l.useState)(!1),[Ve,Ae]=(0,l.useState)(0),S=(0,l.useRef)(null),i=(0,l.useRef)(null),qe=(0,l.useRef)(null),[Je,fe]=(0,l.useState)({thumb:null,indexPip:null,indexTip:null,timestamp:0}),[Re,Te]=(0,l.useState)({jointAngles:[0,0,0,0,0,0],endEffectorPose:{position:{x:0,y:0,z:0},orientation:{roll:0,pitch:0,yaw:0}},gripperState:"open",inWorkspace:!0,confidence:0}),w=(0,l.useRef)(null),q=(0,l.useRef)(null),J=(0,l.useRef)(null),_=(0,l.useRef)(),ge=(0,l.useRef)(0),C=(0,l.useRef)(null),r=t=>{let a=new Date().toLocaleTimeString();he(s=>[`[${a}] ${t}`,...s].slice(0,50))};(0,l.useEffect)(()=>{Ee()},[I]),(0,l.useEffect)(()=>{B&&x==="idle"&&(r("\u{1F50D} Auto-detecting best server for development..."),ne(!1))},[]),(0,l.useEffect)(()=>{o&&(r("\u{1F504} Server changed, reconnecting WebSocket..."),L())},[I,o]);let Ee=async()=>{try{$("checking"),r(`\u{1F50D} Checking backend API health at ${R}/health...`);let t=new AbortController,a=setTimeout(()=>t.abort(),Ne),s=await fetch(`${R}/health`,{signal:t.signal,headers:{Accept:"application/json"},mode:"cors",credentials:"omit"});if(clearTimeout(a),s.ok){let n=await s.json();$("connected"),r(`\u2705 Backend API connected: ${n.message||"Health check passed"}`),r(`\u{1F517} Using API: ${R}`)}else $("error"),r(`\u274C Backend API error: ${s.status} ${s.statusText}`)}catch(t){if(t instanceof Error&&t.name==="AbortError")$("timeout"),r(`\u23F0 Backend API timeout (>${Ne/1e3}s)`);else if(t instanceof Error&&t.message.includes("Failed to fetch")){let a=typeof window<"u"?window.location.origin:"unknown";a.includes("localhost")&&R.includes("onrender.com")?($("cors"),r(`\u274C CORS: Development server (${a}) not allowed by backend`),r("\u{1F4A1} Suggestion: Deploy frontend or run backend locally on port 8000")):($("error"),r(`\u274C Backend API connection failed: ${t.message}`))}else $("error"),r(`\u274C Backend API connection failed: ${t}`);console.warn("Health check failed, but WebSocket may still work:",t)}},L=async()=>{i.current&&i.current.disconnect();try{E(null),V(!0),r("\u{1F50C} Establishing WebSocket connection..."),r(`\u{1F517} Target: ${j}/api/tracking/live`),i.current=new me(j),i.current.onConnectionChange=t=>{ae(t),V(!1),t?(r("\u2705 WebSocket connected - ready for hand tracking"),E(null),y(!0),r(`\u25B6\uFE0F Hand tracking started automatically at ${te} FPS`)):(r("\u274C WebSocket disconnected"),y(!1))},i.current.onError=t=>{E(t),V(!1),r(`\u274C WebSocket error: ${t}`),(t.includes("Connection failed")||t.includes("WebSocket connection failed"))&&((typeof window<"u"?window.location.origin:"unknown").includes("localhost")&&j.includes("onrender.com")?(r("\u{1F4A1} Note: CORS may block REST API, but WebSocket connections often work"),r("\u{1F504} Attempting REST API fallback (may have CORS issues)...")):r("\u{1F504} Attempting REST API fallback..."),i.current&&(i.current.useRestApi=!0,E("Using REST API fallback - check console for CORS issues")))},i.current.onTrackingResult=t=>{_e(t)},await i.current.connect()}catch(t){let a=t instanceof Error?t.message:String(t);r(`\u274C Failed to setup WebSocket: ${a}`),E(`Connection failed: ${a}`),V(!1),i.current&&(r("\u{1F504} Switching to REST API fallback mode..."),i.current.useRestApi=!0,E("WebSocket failed - using REST API fallback"),ae(!1)),!B&&a.includes("timeout")&&r("\u{1F4A1} Tip: For development, run backend locally at localhost:8000")}},_e=t=>{Q(t),U(t.hand_detected);let a=t.processing_time_ms||0;if(Ae(a),t.hand_detected&&t.fingertip_coords){let s=t.fingertip_coords,n=t.latency_ms?` | Latency: ${t.latency_ms.toFixed(1)}ms`:"";Math.random()<.1&&r(`\u{1F4CD} Hand detected: thumb(${s.thumb_tip.x.toFixed(3)}, ${s.thumb_tip.y.toFixed(3)}) | Processing: ${a.toFixed(1)}ms${n}`);let P=(i.current?.calculatePinchDistance(s)||1)<.08;O(P),fe({thumb:s.thumb_tip,indexPip:s.index_pip,indexTip:s.index_tip,timestamp:Date.now()});let m={jointAngles:[(s.index_tip.x-.5)*2,(s.index_tip.y-.5)*2,(s.index_tip.z-.5)*2,0,0,0],endEffectorPose:{position:{x:(s.index_tip.x-.5)*1e3,y:(s.index_tip.y-.5)*1e3,z:(s.index_tip.z-.5)*1e3},orientation:{roll:0,pitch:0,yaw:0}},gripperState:P?"closed":"open",inWorkspace:!0,confidence:t.hand_pose?.score||.9};Te(m)}else{let s=t.latency_ms?` | Latency: ${t.latency_ms.toFixed(1)}ms`:"";Math.random()<.05&&r(`\u{1F47B} No hand detected - ${t.message} | Processing: ${a.toFixed(1)}ms${s}`),O(!1),fe({thumb:null,indexPip:null,indexTip:null,timestamp:Date.now()})}},Pe=async()=>{try{r("\u{1F4F9} Requesting camera access...");let t=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}});J.current=t,w.current&&(w.current.srcObject=t,await new Promise(a=>{let s=w.current,n=()=>{s.videoWidth>0&&s.videoHeight>0?(r(`\u{1F4F9} Camera ready: ${s.videoWidth}x${s.videoHeight}`),a()):setTimeout(n,100)};s.readyState>=2?n():s.addEventListener("loadeddata",n,{once:!0})})),v(!0),r("\u2705 Camera started successfully and ready for tracking"),L()}catch(t){console.error("Camera access denied:",t),r("\u274C Camera access denied"),alert("Camera access is required for hand tracking")}},$e=()=>{J.current&&(J.current.getTracks().forEach(t=>t.stop()),J.current=null),w.current&&(w.current.srcObject=null),v(!1),y(!1),ae(!1),E(null),Q(null),U(!1),O(!1),i.current&&(i.current.disconnect(),i.current=null),_.current&&cancelAnimationFrame(_.current),r("Camera stopped and WebSocket disconnected")},Ie=async()=>{try{r(`\u{1F916} Connecting to robot control: ${A}`),(await fetch(`${R}/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({robot_type:A})})).ok?(d(!0),r("\u2705 Robot control connected successfully"),r("\u{1F4A1} Note: Hand tracking works independently of robot connection")):(r("\u274C Failed to connect to robot control"),alert("Failed to connect to robot"))}catch{r("\u274C Robot connection error"),alert("Connection error")}},We=()=>{if(!o){r("\u274C Please start camera first"),alert("Please start camera first");return}if(!i.current){r("\u274C No tracking API available. Please wait for connection..."),L();return}if(!(h||i.current.useRestApi)){r("\u26A0\uFE0F No connection available. Attempting to connect..."),L();return}y(!0);let a=i.current.useRestApi?"REST API fallback":"WebSocket";r(`\u25B6\uFE0F Starting hand tracking at ${te} FPS via ${a}`)},Fe=()=>{y(!1),r("\u23F9\uFE0F Hand tracking stopped - WebSocket remains connected"),C.current&&(clearInterval(C.current),C.current=null),_.current&&cancelAnimationFrame(_.current)},Me=()=>{let t=w.current,a=q.current,s={"Camera Active":o,"WebSocket Connected":h,"Tracking Active":u,"Video Element":!!t,"Video Dimensions":t?`${t.videoWidth}x${t.videoHeight}`:"N/A","Video Ready State":t?.readyState||"N/A","Canvas Element":!!a,"WebSocket API":!!i.current,"Frame Interval":!!C.current,"Selected Model":g,"Selected Robot":A,"Use REST API":i.current?.useRestApi||!1,"Frame Queue":i.current?.frameQueue||0,"WS Ready State":i.current?.ws?.readyState||"N/A"};if(r("\u{1F50D} Debug State:"),Object.entries(s).forEach(([n,p])=>{r(`  ${n}: ${p}`)}),console.log("Debug State:",s),t&&a&&i.current&&(h||i.current.useRestApi)){r("\u{1F9EA} Attempting manual frame send...");try{let n=a.getContext("2d");if(n&&t.videoWidth>0){a.width=t.videoWidth,a.height=t.videoHeight,n.drawImage(t,0,0,a.width,a.height);let p=i.current.sendFrame(a,g,A);r(`\u{1F9EA} Manual frame send: ${p?"SUCCESS":"FAILED"}`)}else r("\u{1F9EA} Manual frame send failed: No context or video not ready")}catch(n){r(`\u{1F9EA} Manual frame send error: ${n}`)}}else r("\u{1F9EA} Manual frame send skipped: Missing requirements")},He=()=>{if(!u||!w.current||!q.current||!i.current)return;let t=w.current,a=q.current;if(!(h||i.current.useRestApi)||t.videoWidth===0||t.videoHeight===0)return;let n=a.getContext("2d");if(n){a.width=t.videoWidth,a.height=t.videoHeight,n.drawImage(t,0,0,a.width,a.height);try{let p=i.current.sendFrame(a,g,A),P=Date.now();if(P-ge.current>5e3){let m=i.current.useRestApi?"REST API":"WebSocket";r(`\u{1F4F9} ${p?"Sending":"Failed to send"} frames via ${m} (${h?"Connected":"Fallback"})`),ge.current=P}}catch(p){console.error("\u274C Error in sendFramesLoop:",p),r(`\u274C Frame send error: ${p}`)}}};(0,l.useEffect)(()=>{let t=h||i.current?.useRestApi;if(u&&t){C.current=setInterval(He,Ue);let a=i.current?.useRestApi?"REST API":"WebSocket";r(`\u25B6\uFE0F Started sending frames at ${te} FPS via ${a}`);let s=null;return h&&i.current?.ws&&(s=setInterval(()=>{if(i.current?.ws){let n=i.current.ws.readyState;console.log(`\u{1F493} WebSocket health check: state=${n}, queue=${i.current.frameQueue}`),n!==WebSocket.OPEN&&(console.warn("\u26A0\uFE0F WebSocket connection lost during tracking!"),r("\u274C WebSocket connection lost - attempting fallback"),y(!1),i.current&&(i.current.useRestApi=!0,E("WebSocket lost - switched to REST API"),r("\u{1F504} Switched to REST API fallback mode")))}},5e3)),()=>{s&&clearInterval(s)}}else C.current&&(clearInterval(C.current),C.current=null),_.current&&cancelAnimationFrame(_.current);return()=>{C.current&&clearInterval(C.current),_.current&&cancelAnimationFrame(_.current)}},[u,h,g,A]);let De=(t,a)=>{if(!S.current||!t)return;let s=S.current,n=s.getContext("2d");if(!n)return;let p=m=>({x:m.x*s.width,y:m.y*s.height,z:m.z}),P=8;if(n.lineWidth=2,t.thumb_tip){let m=p(t.thumb_tip);n.fillStyle=a?"#ff8800":"#10b981",n.strokeStyle="#ffffff",n.beginPath(),n.arc(m.x,m.y,P,0,2*Math.PI),n.fill(),n.stroke(),n.fillStyle="#ffffff",n.font="bold 12px sans-serif",n.textAlign="center",n.fillText("T",m.x,m.y-12)}if(t.index_tip){let m=p(t.index_tip);n.fillStyle=a?"#ff8800":"#10b981",n.strokeStyle="#ffffff",n.beginPath(),n.arc(m.x,m.y,P,0,2*Math.PI),n.fill(),n.stroke(),n.fillStyle="#ffffff",n.font="bold 12px sans-serif",n.textAlign="center",n.fillText("I",m.x,m.y-12)}if(t.thumb_tip&&t.index_tip&&a){let m=p(t.thumb_tip),re=p(t.index_tip);n.strokeStyle="#ff4444",n.lineWidth=3,n.setLineDash([5,5]),n.beginPath(),n.moveTo(m.x,m.y),n.lineTo(re.x,re.y),n.stroke(),n.setLineDash([])}if(t.index_pip){let m=p(t.index_pip);n.fillStyle="rgba(100, 100, 255, 0.7)",n.strokeStyle="#ffffff",n.beginPath(),n.arc(m.x,m.y,4,0,2*Math.PI),n.fill(),n.stroke()}if(t.index_mcp){let m=p(t.index_mcp);n.fillStyle="rgba(255, 255, 100, 0.7)",n.strokeStyle="#ffffff",n.beginPath(),n.arc(m.x,m.y,4,0,2*Math.PI),n.fill(),n.stroke()}},Ge=()=>{if(!S.current)return;let t=S.current.getContext("2d");t&&w.current&&w.current.videoWidth>0&&(t.clearRect(0,0,S.current.width,S.current.height),t.drawImage(w.current,0,0,S.current.width,S.current.height))};(0,l.useEffect)(()=>{if(!S.current||!w.current||!o)return;let t=S.current,a=w.current,s=t.getContext("2d");if(!s)return;let n,p=()=>{!o||!a||!s||a.videoWidth===0||((t.width!==a.videoWidth||t.height!==a.videoHeight)&&(t.width=a.videoWidth,t.height=a.videoHeight),s.clearRect(0,0,t.width,t.height),s.drawImage(a,0,0,t.width,t.height),N?.fingertip_coords&&W&&De(N.fingertip_coords,T),Oe(s,t),o&&(n=requestAnimationFrame(p)))};return a.readyState>=2?p():a.addEventListener("loadeddata",p,{once:!0}),()=>{n&&cancelAnimationFrame(n)}},[N,W,T,u,o]);let Oe=(t,a)=>{t.textAlign="left",t.font="12px sans-serif",t.fillStyle="white";let s=a.width/2,n=a.height-30;t.fillStyle="rgba(0, 0, 0, 0.6)",t.fillRect(s-30,n-25,60,35),t.textAlign="center",t.font="20px sans-serif",u&&W?(t.fillStyle=T?"#ff4444":"#00ff00",t.fillText(T?"\u{1F90F}":"\u270B",s,n)):u?(t.fillStyle="#ffaa00",t.fillText("\uFFFD\uFE0F",s,n)):(t.fillStyle="rgba(255, 255, 255, 0.8)",t.fillText("\u23F8\uFE0F",s,n))};return(0,e.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,e.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ease-in-out border-b bg-gray-800/70 backdrop-blur-md border-gray-700/50",children:(0,e.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-4 flex justify-between items-center",children:[(0,e.jsx)("div",{className:"flex items-center space-x-2",children:(0,e.jsx)(se,{to:"/",children:(0,e.jsx)("div",{className:"w-10 h-10 rounded-full bg-orange-500 flex items-center justify-center hover:bg-orange-600 transition-colors",children:(0,e.jsx)("span",{className:"text-white font-bold text-lg",children:"JP"})})})}),(0,e.jsx)("div",{className:"flex items-center space-x-6",children:(0,e.jsxs)(se,{to:"/",className:"flex items-center space-x-2 text-sm font-medium text-gray-300 hover:text-orange-500 transition-colors",children:[(0,e.jsx)(be,{className:"h-4 w-4"}),(0,e.jsx)("span",{children:"Back to Home"})]})})]})}),(0,e.jsxs)("div",{className:"pt-20 px-6 max-w-6xl mx-auto",children:[(0,e.jsxs)("div",{className:"text-center mb-12",children:[(0,e.jsx)("h1",{className:"text-4xl font-bold mb-4 text-white",children:"Hand Teleop System"}),(0,e.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Control robots with natural hand movements"})]}),(0,e.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[(0,e.jsxs)(ee,{className:"bg-gray-800 border-gray-700 p-6",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,e.jsx)(X,{className:"h-5 w-5 text-primary"}),(0,e.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Robot"}),(0,e.jsx)(M,{variant:c?"default":"secondary",className:"ml-auto",children:c?"Connected":"Disconnected"})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium mb-2 text-white",children:"Robot Embodiment"}),(0,e.jsx)("select",{value:A,onChange:t=>b(t.target.value),className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white",children:Se.map(t=>(0,e.jsxs)("option",{value:t.id,className:"bg-gray-800 text-white",children:[t.name," (",t.dof," DOF)"]},t.id))})]}),(0,e.jsx)("div",{className:"aspect-square bg-gray-900 rounded-lg border-2 border-dashed border-gray-600 relative overflow-hidden",children:(0,e.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:c?(0,e.jsxs)("div",{className:"text-center text-white",children:[(0,e.jsx)("div",{className:"w-24 h-24 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,e.jsx)(X,{className:"h-12 w-12 text-primary"})}),(0,e.jsx)("p",{className:"text-sm font-medium text-white",children:"3D Robot Model"}),(0,e.jsx)("p",{className:"text-xs text-gray-400",children:Se.find(t=>t.id===A)?.name}),u&&(0,e.jsx)("div",{className:"mt-2",children:(0,e.jsxs)(M,{className:"bg-green-500 animate-pulse",children:[(0,e.jsx)(K,{className:"h-3 w-3 mr-1"}),"Tracking Active"]})})]}):(0,e.jsxs)("div",{className:"text-center text-gray-400",children:[(0,e.jsx)(X,{className:"h-16 w-16 mx-auto mb-2 opacity-30"}),(0,e.jsx)("p",{className:"text-gray-400",children:"Connect robot to view 3D model"})]})})}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)(k,{onClick:Ie,disabled:c,variant:c?"outline":"default",children:[(0,e.jsx)(le,{className:"h-4 w-4 mr-2"}),c?"Connected":"Connect"]}),(0,e.jsx)(k,{onClick:u?Fe:We,disabled:!o,variant:u?"destructive":"default",className:u?"bg-red-600 hover:bg-red-700":"",children:u?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(we,{className:"h-4 w-4 mr-2"}),"Stop Tracking"]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ke,{className:"h-4 w-4 mr-2"}),o?h?"Tracking Active":"Connecting...":"Start Camera"]})})]}),(0,e.jsxs)(k,{onClick:Me,variant:"outline",size:"sm",className:"w-full text-xs text-gray-400 border-gray-600 hover:border-orange-500 hover:text-orange-500",children:[(0,e.jsx)(de,{className:"h-3 w-3 mr-1"}),"Debug State"]})]})]}),(0,e.jsxs)(ee,{className:"bg-gray-800 border-gray-700 p-6",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,e.jsx)(Z,{className:"h-5 w-5 text-primary"}),(0,e.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Camera Feed"}),(0,e.jsx)(M,{variant:o?"default":"secondary",className:"ml-auto",children:o?"Active":"Inactive"})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(k,{onClick:Pe,disabled:o,size:"sm",className:"flex-1",children:o?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Z,{className:"h-4 w-4 mr-2"}),"Camera Active"]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(oe,{className:"h-4 w-4 mr-2"}),"Start Camera"]})}),(0,e.jsx)(k,{onClick:$e,disabled:!o,variant:"outline",size:"sm",className:"flex-1",children:"Stop"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-sm font-medium mb-2 text-white",children:"Raw Camera Feed"}),(0,e.jsxs)("div",{className:"bg-gray-900 rounded-lg overflow-hidden aspect-video",children:[(0,e.jsx)("video",{ref:w,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{display:o?"block":"none"}}),(0,e.jsx)("canvas",{ref:q,style:{display:"none"}}),!o&&(0,e.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(oe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,e.jsx)("p",{className:"text-gray-400",children:"Raw camera feed will appear here"}),(0,e.jsx)("p",{className:"text-sm text-gray-400",children:"Grant camera access to start"})]})})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,e.jsx)("div",{className:"flex items-center gap-3",children:(0,e.jsx)("h3",{className:"text-sm font-medium text-white",children:"Hand Tracking Feed"})}),o&&(0,e.jsx)(M,{variant:h?"default":i.current?.useRestApi?"secondary":"destructive",className:"text-xs",children:h?"\u{1F7E2} WebSocket":i.current?.useRestApi?"\u{1F7E1} REST API":"\u{1F534} Disconnected"})]}),(0,e.jsx)("div",{className:"bg-gray-900 rounded-lg overflow-hidden aspect-video relative",children:o?(0,e.jsx)(e.Fragment,{children:h&&u?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("canvas",{ref:S,className:"w-full h-full object-cover"}),o&&h&&(0,e.jsxs)("div",{className:"absolute top-3 left-3 flex items-center gap-3",children:[(0,e.jsx)("div",{className:`w-12 h-12 flex items-center justify-center transition-all duration-200 ${W?"text-emerald-500":"text-gray-500"}`,title:W?"Hand detected":"No hand detected",children:(0,e.jsx)("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",children:(0,e.jsx)("path",{d:"M9,2C8.45,2 8,2.45 8,3V12C8,12.55 8.45,13 9,13C9.55,13 10,12.55 10,12V3C10,2.45 9.55,2 9,2M12,4C11.45,4 11,4.45 11,5V12C11,12.55 11.45,13 12,13C12.55,13 13,12.55 13,12V5C13,4.45 12.55,4 12,4M15,6C14.45,6 14,6.45 14,7V12C14,12.55 14.45,13 15,13C15.55,13 16,12.55 16,12V7C16,6.45 15.55,6 15,6M18,8C17.45,8 17,8.45 17,9V12C17,12.55 17.45,13 18,13C18.55,13 19,12.55 19,12V9C19,8.45 18.55,8 18,8M5,10C4.45,10 4,10.45 4,11V13C4,16.31 6.69,19 10,19H16C17.1,19 18,18.1 18,17V15H19C19.55,15 20,14.55 20,14V11C20,10.45 19.55,10 19,10H5Z"})})}),W&&(0,e.jsx)("div",{className:`w-12 h-12 flex items-center justify-center transition-all duration-200 ${T?"text-orange-400":"text-emerald-500"}`,title:T?"Gripper closed":"Gripper open",children:(0,e.jsx)("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",children:T?(0,e.jsx)("path",{d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"}):(0,e.jsx)("path",{d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H15V6A3,3 0 0,0 12,3A3,3 0 0,0 9,6H7A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18Z"})})})]})]}):h&&u?(0,e.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto mb-2"}),(0,e.jsx)("p",{className:"text-green-400",children:"Hand tracking active..."}),(0,e.jsx)("p",{className:"text-sm text-gray-400",children:"Waiting for hand detection"})]})}):h&&!u?(0,e.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(ce,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),(0,e.jsx)("p",{className:"text-blue-400",children:"Starting tracking..."}),(0,e.jsx)("p",{className:"text-sm text-gray-400",children:"Initializing hand detection"})]})}):(0,e.jsx)("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center",children:(0,e.jsxs)("div",{className:"text-center text-white",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-2"}),(0,e.jsx)("p",{className:"text-sm",children:"Connecting to backend..."}),(0,e.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Establishing WebSocket connection"}),F&&(0,e.jsxs)("div",{className:"mt-3 p-2 bg-red-900/20 rounded text-xs text-red-400 max-w-xs",children:[(0,e.jsx)("p",{className:"font-medium",children:"Connection Failed"}),(0,e.jsx)("p",{children:F}),(0,e.jsx)("p",{className:"text-gray-400 mt-1",children:"Check Analytics panel for details"})]})]})})}):(0,e.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(Z,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,e.jsx)("p",{className:"text-gray-400",children:"Start camera to connect to backend"}),(0,e.jsx)("p",{className:"text-sm text-gray-400",children:"WebSocket will connect automatically"})]})})})]})]})]})]}),(0,e.jsxs)(ee,{className:"bg-gray-800 border-gray-700 overflow-hidden",children:[(0,e.jsxs)("button",{onClick:()=>D(!H),className:"w-full p-6 text-left flex items-center justify-between hover:bg-gray-700/50 transition-colors",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Y,{className:"h-5 w-5 text-primary"}),(0,e.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Analytics & Debug Info"})]}),H?(0,e.jsx)(xe,{className:"h-5 w-5 text-gray-400"}):(0,e.jsx)(ve,{className:"h-5 w-5 text-gray-400"})]}),H&&(0,e.jsxs)("div",{className:"px-6 pb-6 border-t border-gray-700",children:[(0,e.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium mb-2 text-white",children:"Hand Tracking Model"}),(0,e.jsx)("select",{value:g,onChange:t=>f(t.target.value),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded-lg text-white",children:ze.map(t=>(0,e.jsx)("option",{value:t.id,className:"bg-gray-800 text-white",children:t.name},t.id))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium mb-2 text-white",children:"Backend Server"}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("button",{onClick:()=>ne(!1),className:`px-3 py-2 rounded-lg text-xs transition-colors ${I?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-emerald-600 text-white"}`,children:"Local (localhost:8000)"}),(0,e.jsx)("button",{onClick:()=>ne(!0),className:`px-3 py-2 rounded-lg text-xs transition-colors ${I?"bg-emerald-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Online (Render)"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,e.jsxs)("p",{className:"text-xs text-gray-400",children:["Current: ",I?"Online Server":"Local Server"]}),(0,e.jsx)(M,{variant:x==="connected"?"default":x==="cors"?"destructive":x==="checking"?"secondary":"destructive",className:"text-xs",children:x==="connected"?"\u{1F7E2} Connected":x==="cors"?"\u{1F6AB} CORS":x==="checking"?"\u{1F504} Checking":x==="timeout"?"\u23F0 Timeout":"\u{1F534} Error"})]}),x==="cors"&&(0,e.jsxs)("div",{className:"mt-2 p-2 bg-orange-900/50 border border-orange-600/50 rounded text-xs text-orange-200",children:[(0,e.jsx)("p",{className:"font-medium",children:"CORS Issue Detected"}),(0,e.jsx)("p",{children:"Development server not allowed by backend."}),(0,e.jsxs)("p",{className:"mt-1",children:["\u{1F4A1} ",(0,e.jsx)("strong",{children:"Solutions:"})]}),(0,e.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,e.jsx)("li",{children:"Deploy frontend to production"}),(0,e.jsx)("li",{children:"Run backend locally on port 8000"}),(0,e.jsx)("li",{children:"WebSocket may still work despite CORS error"})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"font-medium mb-2 flex items-center gap-2 text-white",children:[(0,e.jsx)(ce,{className:"h-4 w-4"}),"Hand Tracking"]}),(0,e.jsx)("div",{className:"text-xs font-mono text-gray-300 space-y-1",children:N?.fingertip_coords?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"text-gray-300",children:["Hand: ",W?"Visible":"Not visible"]}),(0,e.jsxs)("div",{className:"text-gray-300",children:["Gripper: ",T?"Closed \u{1F90F}":"Open \u{1F590}\uFE0F"]}),(0,e.jsxs)("div",{className:"text-gray-300",children:["Points detected: ",Object.keys(N.fingertip_coords).length]})]}):(0,e.jsx)("div",{className:"text-gray-300",children:"No hand detected"})})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"font-medium mb-2 flex items-center gap-2 text-white",children:[(0,e.jsx)(Y,{className:"h-4 w-4"}),"Performance"]}),(0,e.jsxs)("div",{className:"text-xs font-mono text-gray-300 space-y-1",children:[N?.processing_time_ms?(0,e.jsxs)("div",{className:"text-gray-300",children:["Processing: ",N.processing_time_ms.toFixed(1),"ms"]}):(0,e.jsx)("div",{className:"text-gray-400",children:"Processing: --"}),N?.latency_ms?(0,e.jsxs)("div",{className:"text-gray-300",children:["Latency: ",N.latency_ms.toFixed(1),"ms"]}):(0,e.jsx)("div",{className:"text-gray-400",children:"Latency: --"}),N&&(0,e.jsxs)("div",{className:"text-gray-300",children:["Total: ",((N.processing_time_ms||0)+(N.latency_ms||0)).toFixed(1),"ms"]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"font-medium mb-2 flex items-center gap-2 text-white",children:[(0,e.jsx)(K,{className:"h-4 w-4"}),"WebSocket Status"]}),(0,e.jsxs)("div",{className:"text-xs text-gray-300 space-y-1",children:[(0,e.jsx)("div",{className:`font-medium ${h?"text-green-400":"text-red-400"}`,children:u?h?"\u{1F7E2} Connected":"\u{1F534} Disconnected":"\u26AA Not started"}),(0,e.jsxs)("div",{className:"text-gray-300",children:["URL: ",R.replace("https:","wss:"),"/api/tracking/live"]}),F&&(0,e.jsxs)("div",{className:"text-red-400 bg-red-900/20 p-2 rounded text-xs",children:["Error: ",F]}),u&&!h&&(0,e.jsx)("div",{className:"text-yellow-400 text-xs",children:"Tip: Check if backend is running and WebSocket endpoint is available"}),(0,e.jsx)("div",{className:"mt-2",children:(0,e.jsx)(k,{size:"sm",variant:"outline",onClick:()=>{let t={success:!0,timestamp:new Date().toISOString(),hand_detected:!0,processing_time_ms:15.5,message:"Test data",fingertip_coords:{thumb_tip:{x:200,y:200,z:.5},index_tip:{x:250,y:180,z:.3},index_pip:{x:240,y:220,z:.4},index_mcp:{x:180,y:250,z:.6}},hand_pose:{score:.95,landmarks:[]},robot_joints:[.1,.2,.3,.4,.5,.6]};Q(t),U(!0),O(Math.random()>.5),r("\u{1F9EA} Test overlay data applied"),setTimeout(()=>{Q(null),U(!1),O(!1),r("\u{1F9EA} Test overlay cleared")},3e3)},className:"text-gray-300 border-gray-600 hover:border-orange-500 hover:text-orange-500",children:"Test Overlay"})})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"font-medium mb-2 flex items-center gap-2 text-white",children:[(0,e.jsx)(de,{className:"h-4 w-4"}),"Robot Joints"]}),(0,e.jsx)("div",{className:"text-xs font-mono text-gray-300 space-y-1",children:Re.jointAngles.map((t,a)=>(0,e.jsxs)("div",{className:"text-gray-300",children:["J",a+1,": ",t.toFixed(3)," rad"]},a))})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"font-medium mb-2 flex items-center gap-2 text-white",children:[(0,e.jsx)(Y,{className:"h-4 w-4"}),"HTTP API Status"]}),(0,e.jsx)("div",{className:`text-sm font-medium mb-2 ${x==="connected"?"text-green-400":"text-yellow-400"}`,children:x==="connected"?"\u2705 Connected":x==="error"?"\u26A0\uFE0F Health check failed":"\u23F3 Checking..."}),x==="error"&&(0,e.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Note: WebSocket connection is what matters for hand tracking"}),(0,e.jsxs)(k,{size:"sm",variant:"outline",onClick:()=>window.open(`${R}/docs`,"_blank"),className:"text-gray-300 border-gray-600 hover:border-orange-500 hover:text-orange-500",children:[(0,e.jsx)(ie,{className:"h-3 w-3 mr-1"}),"API Docs"]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"font-medium mb-2 flex items-center gap-2 text-white",children:[(0,e.jsx)(K,{className:"h-4 w-4"}),"WebSocket Status"]}),(0,e.jsx)("div",{className:`text-sm font-medium mb-2 ${h?"text-green-400":z?"text-yellow-400":"text-red-400"}`,children:z?"\u{1F504} Connecting...":h?"\u2705 Connected":"\u274C Disconnected"}),F&&(0,e.jsx)("div",{className:"text-xs text-red-400 mb-2 font-mono bg-red-900/20 p-2 rounded",children:F}),(0,e.jsxs)("div",{className:"text-xs text-gray-400 mb-2",children:["Target: ",j,"/api/tracking/live"]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)(k,{size:"sm",variant:"outline",onClick:()=>L(),disabled:h||z,className:"text-gray-300 border-gray-600 hover:border-orange-500 hover:text-orange-500 disabled:opacity-50",children:[(0,e.jsx)(le,{className:"h-3 w-3 mr-1"}),z?"Connecting...":h?"Connected":"Retry"]}),!B&&(0,e.jsx)(k,{size:"sm",variant:"outline",onClick:()=>r("\u{1F4A1} To use local backend: npm run dev in backend folder, then refresh page"),className:"text-gray-300 border-gray-600 hover:border-blue-500 hover:text-blue-500",children:"Local Dev"})]})]})]}),(0,e.jsxs)("div",{className:"mt-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,e.jsxs)("h3",{className:"font-medium flex items-center gap-2 text-white",children:[(0,e.jsx)("span",{className:"inline-block",children:(0,e.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 9l3 3-3 3m5-6h2a2 2 0 012 2v6a2 2 0 01-2 2H7a2 2 0 01-2-2v-6a2 2 0 012-2h2"})})}),"Output Console"]}),(0,e.jsx)(k,{size:"sm",variant:"outline",onClick:()=>he([]),className:"text-gray-300 border-gray-600 hover:border-orange-500 hover:text-orange-500",children:"Clear"})]}),(0,e.jsx)("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-3 h-32 overflow-y-auto",children:ue.length===0?(0,e.jsx)("div",{className:"text-gray-400 text-xs",children:"Console output will appear here..."}):(0,e.jsx)("div",{className:"text-xs font-mono space-y-1",children:ue.map((t,a)=>(0,e.jsx)("div",{className:"text-gray-300",children:t},a))})})]})]})]}),(0,e.jsx)("div",{className:"mt-8 text-center",children:(0,e.jsxs)("div",{className:"flex flex-wrap justify-center gap-4",children:[(0,e.jsxs)(k,{variant:"outline",onClick:()=>window.open(`${R}`,"_blank"),className:"text-gray-300 border-gray-600 hover:border-orange-500 hover:text-orange-500",children:[(0,e.jsx)(ie,{className:"h-4 w-4 mr-2"}),"Full Demo"]}),(0,e.jsxs)(k,{variant:"outline",onClick:()=>window.open("https://github.com/7jep7/human2robot","_blank"),className:"text-gray-300 border-gray-600 hover:border-orange-500 hover:text-orange-500",children:[(0,e.jsx)(ye,{className:"h-4 w-4 mr-2"}),"GitHub"]})]})})]})]})}export{Ce as default};
